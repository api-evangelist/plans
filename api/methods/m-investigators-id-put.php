<?php$route = '/investigators/:id/';$app->put($route, function ($id)  use ($app){	$request = $app->request();	$_GET = $request->params();	if(isset($_GET['investigator_id'])){ $investigator_id = $_GET['investigator_id']; } else { $investigator_id = '';}	if(isset($_GET['facility_id'])){ $facility_id = $_GET['facility_id']; } else { $facility_id = '';}	if(isset($_GET['nct_id'])){ $nct_id = $_GET['nct_id']; } else { $nct_id = '';}	if(isset($_GET['name_degree'])){ $name_degree = $_GET['name_degree']; } else { $name_degree = '';}	if(isset($_GET['role'])){ $role = $_GET['role']; } else { $role = '';}	if(isset($_GET['affiliation'])){ $affiliation = $_GET['affiliation']; } else { $affiliation = '';}	$Query = "SELECT * FROM investigators WHERE id = '" . $id . "'";	$Database = mysql_query($Query) or die('Query failed: ' . mysql_error());	if($Database && mysql_num_rows($Database))		{		$query = "UPDATE investigators SET";		if(isset($id))			{			$query .= "id='" . mysql_real_escape_string($id) . "'";			}		if(isset($investigator_id))			{			$query .= "investigator_id='" . mysql_real_escape_string($investigator_id) . "'";			}		if(isset($facility_id))			{			$query .= "facility_id='" . mysql_real_escape_string($facility_id) . "'";			}		if(isset($nct_id))			{			$query .= "nct_id='" . mysql_real_escape_string($nct_id) . "'";			}		if(isset($name_degree))			{			$query .= "name_degree='" . mysql_real_escape_string($name_degree) . "'";			}		if(isset($role))			{			$query .= "role='" . mysql_real_escape_string($role) . "'";			}		if(isset($affiliation))			{			$query .= "affiliation='" . mysql_real_escape_string($affiliation) . "'";			}		$query .= " WHERE id = '" . $id . "'";		mysql_query($query) or die('Query failed: ' . mysql_error());		$ReturnObject = array();		$ReturnObject['message'] = "Investigators Updated!";		}	$app->response()->header("Content-Type", "application/json");	echo stripslashes(format_json(json_encode($ReturnObject)));	});?>